var ew=function(){"use strict";function a(a,b){a=a.push?a:[a];var c,d,e,f,g=[],h=a.length,j=h;for(c=function(a,c){c.length&&g.push(a),j--,j||b(g)};h--;){if(d=a[h],e=x[d],e){c(d,e);continue}f=y[d]=y[d]||[],f.push(c)}}function b(a,b){if(a){var c=y[a];if(x[a]=b,!!c)for(;c.length;)c[0](a,b),c.splice(0,1)}}function c(a,b){a.call&&(a={success:a}),b.length?(a.error||v)(b):(a.success||v)(a)}function d(a,b,c,f){var g,h=document,i=c.async,j=(c.numRetries||0)+1,k=c.before||v,l=a.replace(/[\?|#].*$/,""),m=a.replace(/^(css|img)!/,"");f=f||0,/(^css!|\.css$)/.test(l)?(g=h.createElement("link"),g.rel="stylesheet",g.href=m):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(l)?(g=h.createElement("img"),g.src=m):(g=h.createElement("script"),g.src=a,g.async=void 0===i||i),g.onload=g.onerror=g.onbeforeload=function(e){var h=e.type[0];if("e"==h){if(f+=1,f<j)return d(a,b,c,f)}else if("preload"==g.rel&&"style"==g.as)return g.rel="stylesheet";b(a,h,e.defaultPrevented)},!1!==k(a,g)&&"IMG"!=g.tagName&&h.head.appendChild(g)}function e(a,b,c){a=a.push?a:[a];var e,f,g=a.length,h=g,j=[];for(e=function(a,c,d){if("e"==c&&j.push(a),"b"==c)if(d)j.push(a);else return;g--,g||b(j)},f=0;f<h;f++)d(a[f],e,c)}function f(a,d,f){function g(d,f){e(a,(function(a){c(i,a),d&&c({success:d,error:f},a),b(h,a)}),i)}var h,i;if(d&&d.trim&&(h=d),i=(h?f:d)||{},h)if(h in w)throw"LoadJS";else w[h]=!0;return i.returnPromise?new Promise(g):void g()}function g(a){"@babel/helpers - typeof";return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g(a)}function h(a,b){if("object"!=g(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=g(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function i(a){var b=h(a,"string");return"symbol"==g(b)?b:b+""}function j(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,i(c.key),c)}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function l(a,b,c){return(b=i(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a,b){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},m(a,b)}function n(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,m(a,b)}function o(a){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},o(a)}function p(a){try{return-1!==Function.toString.call(a).indexOf("[native code]")}catch(b){return"function"==typeof a}}function q(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(a){}return(q=function(){return!!a})()}function r(a,b,c){if(q())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,b);var e=new(a.bind.apply(a,d));return c&&m(e,c.prototype),e}function s(a){var b="function"==typeof Map?new Map:void 0;return s=function(a){function c(){return r(a,arguments,o(this).constructor)}if(null===a||!p(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),m(c,a)},s(a)}function t(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)a[d]=b[d];return a}function u(a,b){function c(c,d,e){if("undefined"!=typeof document){e=t({},b,e),"number"==typeof e.expires&&(e.expires=new Date(Date.now()+864e5*e.expires)),e.expires&&(e.expires=e.expires.toUTCString()),c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var g in e)e[g]&&(f+="; "+g,!0!==e[g])&&(f+="="+e[g].split(";")[0]);return document.cookie=c+"="+a.write(d,c)+f}}return Object.create({set:c,get:function(b){if("undefined"!=typeof document&&(!arguments.length||b)){for(var c=document.cookie?document.cookie.split("; "):[],d={},e=0;e<c.length;e++){var f=c[e].split("="),g=f.slice(1).join("=");try{var h=decodeURIComponent(f[0]);if(d[h]=a.read(g,h),b===h)break}catch(a){}}return b?d[b]:d}},remove:function(a,b){c(a,"",t({},b,{expires:-1}))},withAttributes:function(a){return u(this.converter,t({},this.attributes,a))},withConverter:function(a){return u(t({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(b)},converter:{value:Object.freeze(a)}})}var v=function(){},w={},x={},y={};f.ready=function(b,d){return a(b,(function(a){c(d,a)})),f},f.done=function(a){b(a,[])},f.reset=function(){w={},x={},y={}},f.isDefined=function(a){return a in w};let z=function(){function a(a){l(this,"data",{}),this.data=null==a?{}:a}var b=a.prototype;return b.phrase=function(a){var b;return null==(b=this.data[a.toLowerCase()])?a:b},k(a,[{key:"phrases",get:function(){return this.data},set:function(a){this.data=a}}])}(),A=function(){return k((function(a,b,c){l(this,"_selected",void 0),l(this,"_selectionList",void 0),l(this,"_innerHTML",""),l(this,"_value",""),l(this,"_defaultSelected",!1),this._innerHTML=a+"",this._value=b+"",this._defaultSelected=!!c}),[{key:"text",get:function(){return this._innerHTML},set:function(a){this._innerHTML=a+""}},{key:"innerHTML",get:function(){return this._innerHTML},set:function(a){this._innerHTML=a}},{key:"value",get:function(){return this._value},set:function(a){this._value=a+""}},{key:"defaultSelected",get:function(){return this._defaultSelected},set:function(a){this._defaultSelected=!!a}},{key:"selectionList",get:function(){return this._selectionList},set:function(a){this._selectionList=a}},{key:"selected",get:function(){var a;return null==(a=this._selected)?this.defaultSelected:a},set:function(a){var b;this._selected=a,null==(b=this._selectionList)||b.render()}}])}(),B=function(a){function b(){var b;return b=a.call(this)||this,l(b,"containerClass","d-sm-table"),l(b,"rowClass","d-sm-table-row"),l(b,"cellClass","d-sm-table-cell"),l(b,"options",[]),b._internals=b.attachInternals(),b}n(b,a);var c=b.prototype;return c.connectedCallback=function(){let a=this.getAttribute("value")||"",b=this.multiple?a.split(ew.MULTIPLE_OPTION_SEPARATOR):[a];for(let a of b)this.add(a,"",!0)},c.add=function(a,b,c){let d=new A(b,a,c);this.addOption(d)},c.addOption=function(a){if(a instanceof A){a.selectionList=this;let b=this.options.findIndex((b=>b.value==a.value));-1<b?this.options[b]=a:this.options.push(a)}},c.remove=function(a){let b=this.options[a];b&&this.options.splice(a,1)},c.removeAll=function(){this.options.splice(0)},c.clear=function(){for(let a of this.options)a.selected=!1;this.render()},c.getRandom=function(){return Math.floor(899999*Math.random())+1e5},c.triggerChange=function(){const a=new Event("change",{view:window,bubbles:!0,cancelable:!1});this.dispatchEvent(a)},c.isInvalid=function(a){return/\bis-invalid\b/.test(a)},c.attributeChangedCallback=function(a,b,c){if("class"==a){if(this.targetId&&this.isInvalid(b)!=this.isInvalid(c)){let a=document.getElementById(this.targetId),b=a.querySelectorAll("input"),d=this.isInvalid(c);b.forEach((a=>a.classList.toggle("is-invalid",d)))}}else if("value"==a)this._internals.setFormValue(this.value),""!==this.value&&this.classList.remove("is-invalid");else if("disabled"==a){let a=document.getElementById(this.targetId),d=a.querySelectorAll("input");console.log(b,c),d.forEach((a=>a.disabled=this.hasAttribute("disabled")))}},c.showLoading=function(){var a;null==(a=this.target)||a.appendChild(document.createRange().createContextualFragment(ew.spinnerTemplate()))},c.hideLoading=function(){var a;null==(a=this.target)||null==(a=a.querySelector(".ew-loading"))||a.remove()},c.render=function(){let a=this.target,b=this.template;if(!a||!b||!this.list)return;for(;a.firstChild;)a.removeChild(a.firstChild);a.innerHTML=ew.spinnerTemplate();let d,e,f,g=this,h=b.content,j=h.cloneNode(!0),k=j.querySelector("input"),l=this.columns||1,m=document.createElement("div"),n=this.length,o="_"+this.getRandom(),p=this.classList.contains("is-invalid");if(m.className=this.containerClass+" ew-item-container","radio"==k.type||"checkbox"==k.type){var q;e=k.title,f=null==(q=k.dataset)?void 0:q.bsToggle,e&&f&&(k.removeAttribute("title"),k.removeAttribute("data-bs-toggle"),$(m).attr("title",e).tooltip(ew.tooltipOptions))}let r=this.options.filter((a=>a.value));r.forEach(((a,b)=>{let c=j.cloneNode(!0),e=c.querySelector("input"),f=c.querySelector("label"),h="_"+this.getRandom();e.name+="radio"==e.type?o:h,e.id+=h,e.value=a.value,e.setAttribute("data-index",b),e.checked=a.selected,e.disabled=this.disabled,e.classList.add("ew-custom-option"),p&&e.classList.add("is-invalid"),e.addEventListener("click",(function(){var a;null==(a=bootstrap.Tooltip.getInstance(m))||a.hide();let b=parseInt(this.getAttribute("data-index"),10);if("select-one"==g.type)for(let a of g.options)a.selected=!1;g.options[b].selected=this.checked,g.setAttribute("value",g.value),g.triggerChange()})),f.innerHTML=a.text,f.htmlFor=e.id;let i=document.createElement("div");if(i.className=this.cellClass,i.appendChild(c),0==b%l&&(d=document.createElement("div"),d.className=this.rowClass),d.append(i),b%l==l-1)m.append(d);else if(b==n-1){for(let a,c=b%l+1;c<l;c++)a=document.createElement("div"),a.className=this.cellClass,d.append(a);m.append(d)}})),a.innerHTML="",a.append(m),this.setAttribute("value",this.value)},c.focus=function(){if(this.list){var b;null==(b=this.target)||null==(b=b.querySelector("input"))||b.focus()}else a.prototype.focus.call(this)},k(b,[{key:"form",get:function(){return this._internals.form}},{key:"name",get:function(){return this.getAttribute("name")}},{key:"targetId",get:function(){return this.getAttribute("data-target")}},{key:"target",get:function(){return this.parentNode.querySelector("#"+this.targetId)}},{key:"templateId",get:function(){return this.getAttribute("data-template")}},{key:"template",get:function(){return this.parentNode.querySelector("#"+this.templateId)}},{key:"inputId",get:function(){return this.getAttribute("data-input")}},{key:"input",get:function(){return this.parentNode.querySelector("#"+this.inputId)}},{key:"list",get:function(){return this.options}},{key:"columns",get:function(){var a;if(null!=(a=ew)&&a.IS_MOBILE)return 1;else{let a=this.getAttribute("data-repeatcolumn");return a?parseInt(a,10):1}}},{key:"length",get:function(){return this.options.length}},{key:"selectedIndex",get:function(){return this.options.findIndex((a=>a.selected))},set:function(a){let b=this.options[a];b&&(this.options.forEach((a=>a.selected=!1)),b.selected=!0,this.render())}},{key:"type",get:function(){return this.getAttribute("data-type")||this.getAttribute("type")}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(a){a?this.setAttribute("disabled",""):this.removeAttribute("disabled")}},{key:"multiple",get:function(){return"select-multiple"==this.type}},{key:"value",get:function(){return"select-one"==this.type||"select-multiple"==this.type?this.values.join(ew.MULTIPLE_OPTION_SEPARATOR||","):this.getAttribute("value")},set:function(a){if("select-one"==this.type)for(let b of this.options)b.selected=b.value==a;else if("select-multiple"==this.type){let b;Array.isArray(a)?b=a.map((a=>null==a?a+"":a)):(null==a?a+="":a,b=a?a.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[]);for(let a of this.options)a.selected=b.includes(a.value+"")}else this.setAttribute("value",a);this.render()}},{key:"values",get:function(){if("select-one"==this.type||"select-multiple"==this.type)return this.options.filter((a=>a.selected)).map((a=>a.value));else{let a=this.getAttribute("value");return a?a.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[]}}}],[{key:"observedAttributes",get:function(){return["class","value","disabled"]}},{key:"formAssociated",get:function(){return!0}}])}(s(HTMLElement));var C=u({read:function(a){return'"'===a[0]&&(a=a.slice(1,-1)),a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const D=()=>{if(globalThis.crypto?.randomUUID)return globalThis.crypto.randomUUID();const a=new Uint8Array(16);if(globalThis.crypto?.getRandomValues)globalThis.crypto.getRandomValues(a);else for(let b=0;b<a.length;b++)a[b]=Math.floor(256*Math.random());a[6]=64|15&a[6],a[8]=128|63&a[8];const b=[];return a.forEach((a=>{b.push(a.toString(16).padStart(2,"0"))})),b.slice(0,4).join("")+"-"+b.slice(4,6).join("")+"-"+b.slice(6,8).join("")+"-"+b.slice(8,10).join("")+"-"+b.slice(10).join("")};let E=null;const F=(a={})=>{const b=a.key??"unique-tab-id";let c;if(void 0!==a.storage)c=a.storage;else try{c=window.sessionStorage}catch{c={}}let d;if(void 0!==a.navEntries)d=a.navEntries;else try{d=window.performance.getEntriesByType("navigation")}catch{d=[]}let e,f;try{e=c.getItem(b),f=!0}catch{e=E,f=!1}const g=null!==e;if(g&&!f)return{tabId:e,hasExisting:!0,usingExisting:!0};const h=d&&d.length?d[0]:{type:null},i="back_forward"===h.type;if(g&&!i)return{tabId:e,hasExisting:!0,usingExisting:!0,mayBeDuplicate:!1};const j=D();try{c.setItem(b,j)}catch{E=j}return{tabId:j,hasExisting:g,usingExisting:!1,mayBeDuplicate:i}};f.ready("adminlte",(function(){let a=jQuery;a(window).off("load.lte.treeview").off("load.lte.sidebarsearch"),f.ready("templates",(()=>{document.querySelectorAll("[data-widget=treeview]").forEach((b=>a(b).Treeview(null))),document.querySelectorAll("[data-widget=sidebar-search]").forEach((b=>a(b).SidebarSearch(null)))})),adminlte.CardRefresh.overlayTemplate=ew.overlayTemplate()})),window.loadjs=f,customElements.define("selection-list",B);let G=()=>{},H=a=>(a.element instanceof HTMLOptionElement?a.element.innerHTML:"")||a.text,I={SelectionListOption:A,PAGE_ID:"",RELATIVE_PATH:"",MULTIPLE_OPTION_SEPARATOR:",",GENERATE_PASSWORD_UPPERCASE:!0,GENERATE_PASSWORD_LOWERCASE:!0,GENERATE_PASSWORD_NUMBER:!0,GENERATE_PASSWORD_SPECIALCHARS:1,CONFIRM_CANCEL:!0,UNFORMAT_YEAR:50,LAZY_LOAD_DELAY:0,AJAX_DELAY:5,LOOKUP_DELAY:250,MAX_OPTION_COUNT:3,MIN_SESSION_KEEP_ALIVE_INTERVAL:60,NUMBERING_SYSTEM:"",SERVICE_WORKER:"sw.js",Cookies:C,uniqueTabId:F(),Language:z,language:new z,vars:null,maps:{},addOptionDialog:null,emailDialog:null,importDialog:null,modalDialog:null,modalLookupDialog:null,ajaxBatchSize:5,autoSuggestSettings:{highlight:!0,hint:!0,minLength:1,debounce:250,delay:250,templates:{},classNames:{menu:"tt-menu dropdown-menu",input:"tt-input form-control",dataset:"tt-dataset",suggestion:"tt-suggestion dropdown-item",cursor:"active"}},lightboxSettings:{transition:"none",photo:!0,opacity:.5},calendarOptions:{showViewPageOnEventClick:!0,useContextMenu:!0,usePopover:!0,popoverViews:["dayGridMonth"],fullCalendarOptions:{headerToolbar:{start:"prev,next today",center:"title",end:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},longPressDelay:1250,eventSelectLongPressDelay:750,themeSystem:"bootstrap5",initialView:"dayGridMonth",dayMaxEventRows:!0,timeZone:"UTC",droppable:!0,editable:!0},eventPopoverOptions:{placement:"auto",trigger:"hover",html:!0}},uploadOptions:{cropperOptions:{autoCropArea:1,viewMode:2},cropperCanvasOptions:{minWidth:256,minHeight:256,maxWidth:4096,maxHeight:4096,fillColor:"#fff",imageSmoothingQuality:"high"}},importUploadOptions:{maxFileSize:1e7,maxNumberOfFiles:10},sweetAlertSettings:{showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{container:"ew-swal2-container",popup:"ew-swal2-popup",header:"ew-swal2-header",title:"ew-swal2-title",closeButton:"ew-swal2-close-button",icon:"ew-swal2-icon",image:"ew-swal2-image",htmlContainer:"ew-swal2-html-container",content:"ew-swal2-content",input:"form-control ew-swal2-input",inputLabel:"ew-swal2-input-label",validationMessage:"ew-swal2-validation-message",actions:"ew-swal2-actions",confirmButton:"btn btn-primary ew-swal2-confirm-button",denyButton:"btn btn-danger ew-swal2-deny-button",cancelButton:"btn btn-secondary ew-swal2-cancel-button",loader:"ew-swal2-loader",footer:"ew-swal2-footer"}},selectOptions:{allowClear:!0,theme:"bootstrap5",width:"style",minimumResultsForSearch:20,escapeMarkup:a=>a,templateResult:H,templateSelection:H,debounce:250,customOption:!0,containerClass:"d-sm-table",rowClass:"d-sm-table-row",cellClass:"d-sm-table-cell text-nowrap",iconClass:"form-check-label"},selectMinimumInputLength:1,modalLookupOptions:{allowClear:!0,theme:"bootstrap5",width:"100%",escapeMarkup:a=>a,templateResult:H,templateSelection:H,closeOnSelect:!1,minimumInputLength:0,dropdownCssClass:"ew-modal-dropdown",modal:!0,debounce:250,draggableOptions:{cursor:"grabbing"}},filterOptions:{allowClear:!0,theme:"bootstrap5",width:"100%",escapeMarkup:a=>a,templateResult:H,templateSelection:H,closeOnSelect:!1,minimumInputLength:0,dropdownAutoWidth:!0,dropdownCssClass:"ew-filter-dropdown",debounce:250,customOption:!0,columns:1,multiple:!0,preventScroll:!0,containerClass:"container",rowClass:"row",cellClass:"col text-nowrap",iconClass:"form-check-label"},importTabulatorOptions:{height:300},toastOptions:{position:"topRight"},tippyOptions:{theme:"translucent"},DOMPurifyConfig:{},sanitize:function(a){return DOMPurify.sanitize(a,this.DOMPurifyConfig)},draggableOptions:{cursor:"grabbing"},queryBuilderOptions:{allowViewRules:!1,allowClearRules:!1},queryBuilderPlugins:{"filter-description":null,"unique-filter":null,"not-group":null},queryBuilderErrorClass:"invalid-tooltip",bundleIds:["dom","head"],tooltipOptions:{placement:"bottom",customClass:"ew-custom-tooltip",sanitizeFn:null},popoverOptions:{html:!0,customClass:"ew-custom-popover",sanitizeFn:null},loginWizardOptions:{autoAdjustHeight:!0,transition:{animation:"slideHorizontal",speed:"400",easing:""}},scrollIntoViewOptions:!0,securityCodeDebounce:1e3,resendOtpInterval:60,PDFObjectOptions:{},chartConfig:{},spinnerClass:"spinner-border text-primary",screenMediaQuery:"(min-width: 768px)",callbacks:{},jsTemplates:[],jsRenderHelpers:{},jsRenderAttributes:["src","href","title","data-bs-title"],autoHideSuccessMessage:!0,autoHideSuccessMessageDelay:5e3,searchOperatorChange:G,setLanguage:G,addOptionDialogShow:G,importDialogShow:G,toggleSearchOperator:G,togglePassword:G,sort:G,selectKey:G,export:G,exportWithCharts:G,setSearchType:G,emailDialogShow:G,selectAll:G,selectAllKeys:G,submitAction:G,addGridRow:G,confirmDelete:()=>!1,deleteGridRow:()=>!1};I.getStoredTheme=()=>localStorage.getItem("theme"),I.setStoredTheme=a=>localStorage.setItem("theme",a),I.getPreferredTheme=()=>{const a=I.getStoredTheme();return a?a:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},I.isDark=()=>"dark"==I.getPreferredTheme(),I.updateIframes=()=>document.querySelectorAll(".ew-iframe").forEach((a=>{const b=I.getPreferredTheme(),c=a.contentWindow.document.documentElement;c.setAttribute("data-bs-theme",b),c.classList.toggle("dark","dark"==b)})),I.setTheme=a=>{"light"!==a&&"dark"!==a&&(a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),"print"==new URL(window.location).searchParams.get("export")&&(a="light"),document.documentElement.setAttribute("data-bs-theme",a),I.updateIframes();const b=new CustomEvent("changetheme",{detail:a});document.dispatchEvent(b)},I.setTheme(I.getPreferredTheme()),I.showActiveTheme=function(a,b){void 0===b&&(b=!1);const c=document.querySelector("#bd-theme");if(!c)return;const d=document.querySelector("#bd-theme-text"),e=document.querySelector(".theme-icon-active"),f=document.querySelector("[data-bs-theme-value='"+a+"']");if(f){const a=f.querySelector(".theme-icon");document.querySelectorAll("[data-bs-theme-value]").forEach((a=>{a.classList.remove("active"),a.setAttribute("aria-pressed","false")})),f.classList.add("active"),f.setAttribute("aria-pressed","true");let g=Array.from(e.classList.values());for(const a of g)(a.startsWith("fa-")||a.startsWith("bi-"))&&e.classList.remove(a);let h=null==a?void 0:a.classList.values();for(const a of h)(a.startsWith("fa-")||a.startsWith("bi-"))&&e.classList.add(a);const i=d.textContent+" ("+f.dataset.bsThemeValue+")";c.setAttribute("aria-label",i),b&&c.focus()}},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{const a=I.getStoredTheme();"light"!==a&&"dark"!==a&&I.setTheme(I.getPreferredTheme())})),I.initThemes=()=>{const a=I.getPreferredTheme();I.showActiveTheme(a),I.updateIframes(),document.querySelectorAll("[data-bs-theme-value]").forEach((a=>{a.addEventListener("click",(()=>{let b=a.getAttribute("data-bs-theme-value");I.setStoredTheme(b),I.setTheme(b);new Date((new Date).getTime()+31536e6);I.Cookies.set("theme",b,{sameSite:I.COOKIE_SAMESITE,secure:I.COOKIE_SECURE}),I.showActiveTheme(b,!0)}))}))},I.initPanel=a=>{if(a.dataset.isset)return;let b="";for(let c of a.children)if(b=c.innerHTML.trim(),""!==b)break;""===b&&a.classList.add("d-none"),a.dataset.isset=!0},I.panelSelectors=[".user-panel",".ew-grid-upper-panel",".ew-grid-lower-panel",".ew-multi-column-row > * > .card > .card-header",".ew-multi-column-row > * > .card > .card-footer"],I.initPanels=a=>null==a?void 0:a.querySelectorAll(I.panelSelectors.join(",")).forEach(I.initPanel);let J,K=()=>{I.initPanels(document),J=requestAnimationFrame(K)};f.ready("wrapper",(()=>J=requestAnimationFrame(K))),document.addEventListener("DOMContentLoaded",(()=>{I.initPanels(document),cancelAnimationFrame(J),f.done("dom")})),I.loadjs=function(a,b,c){let d=null!=b&&b.trim?b:"";d&&"load"!=d&&!I.bundleIds.includes(d)&&I.bundleIds.push(d);let e=(d?c:b)||{};a=Array.isArray(a)?a:[a],a=a.filter((a=>a&&(!Array.isArray(a)||a.length))),e.call&&(e={success:e}),e={...e,returnPromise:!0};let g={...e},h=Promise.resolve();return delete g.success,a.forEach(((a,b,c)=>{h=b==c.length-1?h.then((()=>f(a,d||e,d?e:null).catch((a=>console.log(a))))):h.then((()=>f(a,g).catch((a=>console.log(a)))))})),h},I.ready=function(a,b,c,d){let e=null!=c&&c.trim?c:"";e&&"load"!=e&&!I.bundleIds.includes(e)&&I.bundleIds.push(e),f.ready(a,(function(){I.loadjs(b,c,d)}))},f.ready("head",(function(){I.clientScript()})),f.ready("foot",(function(){I.startupScript(),f.done("load")}));let L=function(){let a={},b=!0,c=0;!1===arguments[0]&&(b=!1,c++),"object"==typeof arguments[c]&&(a=arguments[c],c++);for(let d=function(c){for(let d in c)c.hasOwnProperty(d)&&("object"!=typeof c[d]||Array.isArray(c[d])||null===c[d]?b?a[d]=c[d]:!a.hasOwnProperty(d)&&(a[d]=c[d]):a[d]=L(b,a[d],c[d]))};c<arguments.length;c++)"object"==typeof arguments[c]&&d(arguments[c]);return a};return I.deepAssign=L,I.applyTemplateId=["jsrender","makerjs"],I.renderJsTemplates=function(a){var b;let c=jQuery,d=null==(b=null==a?void 0:a.target)?document:b;c.views.helpers({language:I.language,phrase:I.language.phrase.bind(I.language),sprintf:I.sprintf,...I.jsRenderHelpers}),Array.from(d.querySelectorAll(".ew-js-template")).sort(((c,a)=>(c=parseInt(c.dataset.seq,10)||0,a=parseInt(a.dataset.seq,10)||0,c-a))).forEach(((a,b)=>{var d;let e=Object.assign({},null==(d=a.dataset)?{}:d),{name:f,manual:g,allowCode:h}=e;if(g=""===g,h=""===h,f||(f="js-template-"+b),!c.render[f]){let b={jsTemplate:c.templates(f,{markup:a.text,allowCode:h}),template:a,...e};I.jsTemplates.push(b),g||I.renderTemplate(b)}})),f.done("templates")},I.renderTemplate=function(a){let b=jQuery,c=b(document);c.trigger("rendertemplate",[a]);let{template:d,jsTemplate:e,method:f,target:g,data:h,callback:i}=a,j=b(g||d.parentNode);"string"==typeof h&&(h=I.vars[h]||window[h]),h="object"==typeof h?h:{};let k=e.render(h);if(k&&f&&g?b(k)[f](j):k&&!f&&g?j.html(k):k&&!f&&!g&&j.append(k),i){let d="string"==typeof i?I.callbacks[i]||I[i]||window[i]:i;if("function"==typeof d){let f=b.Event("templaterendered",{target:j[0],detail:a});try{return d(f)}finally{c.trigger(f)}}}},I.refreshTemplate=function(a,b){let c=I.jsTemplates.find((b=>b.name==a));return c?("object"==typeof b&&(c.data=b),["config2fa","select2fa","verify2fa"].includes(a)&&(c.callback=()=>$.later(200,null,(()=>$("#login-wizard").smartWizard("fixHeight")))),I.renderTemplate(c)):null},I.overlayTemplate=function(){return'<div class="overlay"><div class="'+this.spinnerClass+'" style="width: 3rem; height: 3rem;" role="status"><span class="visually-hidden">'+this.language.phrase("Loading")+"</span></div></div>"},I.spinnerTemplate=function(){return'<div class="'+this.spinnerClass+' m-3 ew-loading" role="status"><span class="visually-hidden">'+this.language.phrase("Loading")+"</span></div>"},I.writeTabIdCookie=function(){I.Cookies.get(I.PROJECT_NAME+"_TabId")!=I.uniqueTabId.tabId&&I.Cookies.set(I.PROJECT_NAME+"_TabId",I.uniqueTabId.tabId,{sameSite:I.COOKIE_SAMESITE,secure:I.COOKIE_SECURE})},f.ready("clientvars",(()=>I.writeTabIdCookie())),window.addEventListener("visibilitychange",(()=>"visible"!=document.visibilityState||I.writeTabIdCookie())),I}();
